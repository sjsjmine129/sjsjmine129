# 이미지 파일 업데이트

URL Patterns: /images/change
담당자: 영두 우
Method: PUT
작업 완료: Yes
1차 MVP: Yes

## PUT /files

---

AWS S3 이미지 업데이트

기존 이미지 주소(`toDeleteUrls`)에 해당하는 파일 삭제 → 
새로 업데이트 할 이미지 파일(`newFiles`) 생성

## **Request**

- **Header**
    
    ```json
    Authorization : Bearer JWT
    ```
    

- **Body (`form-data`)**
    
    
    | Key | Value |
    | --- | --- |
    | type | 타입 |
    | urlsToDelete | 변경할 url |
    | newFiles | 파일 |
    - type: 타입 설정
        - `feed` : 피드 이미지
    - `urlsToDelete` : 변경할 기존 url 주소
    - `newFiles`: 이미지 업로드, 파일 10MB 이하. 확장자는 png, jpg, jpeg, gif 만 허용
    

## Response

- **Success (200) : 업데이트 성공**
    
    ```json
    {
        "data": {
            "files": [
                {
                    "filename": "google.png",
                    "fileUrl": "https://s3.ap-southeast-2.amazonaws.com/buz-s3/etc/2866255962%40KAKAO_a9118fca-b0b5-4384-af78-502d2d343563_.png"
                },
                {
                    "filename": "crycat.png",
                    "fileUrl": "https://s3.ap-southeast-2.amazonaws.com/buz-s3/etc/2866255962%40KAKAO_417e354f-9f34-4c9f-a2d3-56c455bf535e_.png"
                }
            ]
        }
    }
    ```
    

- **Error:**
    - **400 : 업데이트 실패**
    
    ```json
    {
    		"statusCode": 9050,
        "data": {},
        "message": "AWS S3 upload fail."
    }
    ```
    
    ```json
    {
        "statusCode": 9060,
        "data": {},
        "message": "exceeded file size."
    }
    ```
    
    ```json
    {
        "statusCode": 9070,
        "data": {},
        "message": "file type not provided."
    }
    ```